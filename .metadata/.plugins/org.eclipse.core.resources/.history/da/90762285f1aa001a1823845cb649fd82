<%@page import="java.util.List"%>
<%@page import="java.util.ArrayList"%>
<%@page import="board.bean.BoardDTO.BoardDTO"%>
<%@page import="board.dao.BoardDAO.BoardDAO"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>

<% 
request.setCharacterEncoding("UTF-8");
BoardDTO boardDTO = new BoardDTO();
List<BoardDTO> list = new ArrayList<BoardDTO>();
int pg = Integer.parseInt(request.getParameter("pg"));

// DB
BoardDAO boardDAO = new BoardDAO();

//페이징처리 -1페이지당 5개씩
 int endNum = pg*5;
int startNum = endNum-4;
list=boardDAO.boardList(startNum, endNum);

 int totalA = boardDAO.getTotalA(); //총 글수 
 int totalP = (totalA+4)/5;  //더할때는 나누는수 -1을 나눈다

%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Board 글목록</title>
<style>
#currentPaging{color:red; text-decoration:underline;}
#paging{color:black; text-decoration:none;}
</style>
</head>
<body>

[글목록] - 게시글 총 <%= totalA%>개  

		

<br>
		
	         
			<table  border="1" width=580px cellspacing=0 cellpadding=3 style=table-layout:fixed>
			<tr border=1>
	         <th align=center width='100'>글번호</th>
	         <th align=center width='100'>제목</th>
	         <th align=center width='100'>작성자</th>
	         <th align=center width='100'>작성일</th>
	         <th align=center width='100'>조회수</th>
	        </tr>
<%	        if(list!=null){
 	        for (BoardDTO dto : list) {%>
	        <tr>
	         <td align=center width='100'><%= dto.getRn()%></td>
	         <td align=center width='100'><%= dto.getSubject()%></td>
	         <td align=center width='100'><%= dto.getName()%></td>
	         <td align=center width='100'><%= dto.getLogdate()%></td>
	         <td align=center width='100'><%= dto.getHit()%></td>
	        </tr>

	         
			<%} }%>
      
	         </table>
	         
			<%for(int i=1; i<=totalP; i++) {
				if(i==pg){ %>
					<a id=currentPaging href='/memberJSP/board/boardList.jsp?pg=<%= i%>'>[<%= i%>]</a>
				<% }else {%>
					<a id=paging href='/memberJSP/board/boardList.jsp?pg=<%= i%>'>[<%= i%>]</a>
	<%	}	}%>	        
	      
</body>
</html>










